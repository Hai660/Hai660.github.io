<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>项目</title>
    <base href="/hai/">
    <link rel="stylesheet" href="./assets/index-Co4tJcIq.css">
    <script>
        // 修复绝对路径的资源加载问题 - GitHub Pages
        (function() {
            var basePath = '/hai';
            var pathRegex = /^\/assets\//;
            
            function fixPath(url) {
                if (typeof url === 'string' && pathRegex.test(url)) {
                    return basePath + url;
                }
                return url;
            }
            
            // 拦截 fetch
            var originalFetch = window.fetch;
            window.fetch = function(input, init) {
                if (typeof input === 'string') {
                    input = fixPath(input);
                } else if (input && input.url) {
                    input = new Request(fixPath(input.url), input);
                }
                return originalFetch.call(this, input, init);
            };
            
            // 拦截 XMLHttpRequest
            var originalOpen = XMLHttpRequest.prototype.open;
            XMLHttpRequest.prototype.open = function(method, url, async, user, password) {
                return originalOpen.call(this, method, fixPath(url), async, user, password);
            };
            
            // 修复 DOM 中已存在的图片路径
            function fixImages() {
                document.querySelectorAll('img[src^="/assets/"]').forEach(function(img) {
                    img.src = fixPath(img.src);
                });
            }
            
            // 监听 DOM 变化
            if (window.MutationObserver) {
                var observer = new MutationObserver(function(mutations) {
                    fixImages();
                });
                observer.observe(document.body || document.documentElement, {
                    childList: true,
                    subtree: true
                });
            }
            
            // 页面加载后立即修复
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', fixImages);
            } else {
                fixImages();
            }
        })();
    </script>
</head>
<body>
    <div id="root"></div>
    <script type="module" src="./assets/index-BSgKw-CJ.js"></script>
</body>
</html>
